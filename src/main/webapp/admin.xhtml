<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>School - Admin</title>
    <meta name="author" content="Pawel"></meta>
</h:head>
<h:body style="padding: 60px;">
    <b:navBar brand="Admin" brandHref="#" fixed="top" inverse="true" update="@body">
        <b:navbarLinks>
            <b:navLink value="Add Role" href="role.xhtml"></b:navLink>
            <b:navLink value="Add Sex" href="sex.xhtml"></b:navLink>
            <b:navLink value="Add Course" href="course.xhtml"></b:navLink>
            <b:navLink value="Add Semester" href="semester.xhtml"></b:navLink>
        </b:navbarLinks>
    </b:navBar>
    <h:form>
        <b:container>
            <b:jumbotron>
                <h2>Hello, #{loginBean.username}!</h2>
                <br/>
                <h:outputLabel value="Add user: "/>
                <br/>
                <b:row>
                    <b:column medium-screen="2">
                        <h:outputText value="Name:" for="name" />
                    </b:column>
                    <b:column medium-screen="4">
                        <b:inputText placeholder="Name" id="name" value="#{adminBean.name}"
                                     ajax="true" autocomplete="false" update="@(.message)">
                            <f:facet name="prepend">
                                <b:icon name="user" />
                            </f:facet>
                        </b:inputText>
                    </b:column>
                    <b:column medium-screen="6" style-class="message">
                        <b:message for="name" />
                    </b:column>
                </b:row>
                <b:row>
                    <b:column medium-screen="2">
                        <h:outputText value="Username:" for="username" />
                    </b:column>
                    <b:column medium-screen="4">
                        <b:inputText placeholder="Username" id="username" value="#{adminBean.username}"
                                     ajax="true" autocomplete="false" update="@(.message)">
                            <f:facet name="prepend">
                                <b:icon name="user" />
                            </f:facet>
                        </b:inputText>
                    </b:column>
                    <b:column medium-screen="6" style-class="message">
                        <b:message for="username" />
                    </b:column>
                </b:row>
                <b:row tooltip="Password">
                    <b:column medium-screen="2">
                        <h:outputText value="Password:" />
                    </b:column>
                    <b:column medium-screen="4">
                        <b:inputSecret placeholder="Password" id="password" value="#{adminBean.password}"
                                       ajax="true" autocomplete="false" update="@(.message)">
                            <f:facet name="prepend">
                                <b:iconAwesome name="key" />
                            </f:facet>
                        </b:inputSecret>
                    </b:column>
                    <b:column medium-screen="6" styleClass="message">
                        <b:message for="password" line-break-tag=""/>
                    </b:column>
                </b:row>
                <b:row>
                    <b:column medium-screen="2">
                        <h:outputText value="Role:" for="role"/>
                    </b:column>
                    <b:column medium-screen="4">
                        <b:selectOneMenu value="#{adminBean.roleId}" id="role">
                            <f:selectItems value="#{adminBean.roleList}" var="r" itemLabel="#{r.role}" itemValue="#{r.roleId}" />
                        </b:selectOneMenu>
                    </b:column>
                    <b:column medium-screen="6" style-class="message">
                        <b:message for="role" />
                    </b:column>
                </b:row>
                <b:row>
                    <b:column medium-screen="2">
                        <h:outputText value="Email:" for="email" />
                    </b:column>
                    <b:column medium-screen="4">
                        <b:inputText placeholder="Email" id="email" value="#{adminBean.email}"
                                     ajax="true" autocomplete="false" update="@(.message)">
                            <f:facet name="prepend">
                                <b:icon name="email" />
                            </f:facet>
                        </b:inputText>
                    </b:column>
                    <b:column medium-screen="6" style-class="message">
                        <b:message for="email" />
                    </b:column>
                </b:row>
                <b:row>
                    <b:column medium-screen="2">
                        <h:outputText value="Address:" for="address" />
                    </b:column>

                    <b:column medium-screen="4">
                        <b:inputText placeholder="Address" id="address" value="#{adminBean.adress}"
                                     ajax="true" autocomplete="false" update="@(.message)">
                            <f:facet name="prepend">
                                <b:icon name="email" />
                            </f:facet>
                        </b:inputText>
                    </b:column>
                    <b:column medium-screen="6" style-class="message">
                        <b:message for="address" />
                    </b:column>
                </b:row>
                <b:row>
                    <b:column medium-screen="2">
                        <h:outputText value="Contact details:" for="cd" />
                    </b:column>
                    <b:column medium-screen="4">
                        <b:inputText placeholder="Contact details" id="cd" value="#{adminBean.contactDetails}"
                                     ajax="true" autocomplete="false" update="@(.message)">
                            <f:facet name="prepend">
                                <b:icon name="email" />
                            </f:facet>
                        </b:inputText>
                    </b:column>
                    <b:column medium-screen="6" style-class="message">
                        <b:message for="cd" />
                    </b:column>
                </b:row>
                <b:row>
                    <b:column medium-screen="2">
                        <h:outputText value="Sex:" for="sex"/>
                    </b:column>
                    <b:column medium-screen="4">
                        <b:selectOneMenu value="#{adminBean.sexId}" id="sex">
                            <f:selectItems value="#{adminBean.sexList}" var="s" itemLabel="#{s.sex}" itemValue="#{s.sexId}" />
                        </b:selectOneMenu>
                    </b:column>
                    <b:column medium-screen="6" style-class="message">
                        <b:message for="sex" />
                    </b:column>
                </b:row>
                <b:row>
                    <b:column medium-screen="2">
                        <h:outputText value="Date of Birth:" for="dob"/>
                    </b:column>
                    <b:column medium-screen="4">
                        <b:datepicker id="dob" mode="toggle-icon" showWeek="true" firstDay="1"
                                      value="#{adminBean.birthDate}"/>
                    </b:column>
                    <b:column medium-screen="6" style-class="message">
                        <b:message for="dob" />
                    </b:column>
                </b:row>
                <br/>
                <b:commandButton value="Add" action="#{adminBean.addUser}" update="@form" look="primary"
                                 style="width:20%" />
            </b:jumbotron>
        </b:container>
        <br/>
        <b:container>
            <b:jumbotron>
                <h2>List of users:</h2>
                <b:dataTable value="#{adminBean.userList}" var="p" >
                    <b:column>
                        <f:facet name="header">UserId</f:facet>
                        #{p.userId}
                    </b:column>
                    <b:column>
                        <f:facet name="header">Name</f:facet>
                        #{p.name}
                    </b:column>
                    <b:column>
                        <f:facet name="header">Username</f:facet>
                        #{p.username}
                    </b:column>
                    <b:column>
                        <f:facet name="header">Password</f:facet>
                        #{p.password}
                    </b:column>
                    <b:column>
                        <f:facet name="header">Adress</f:facet>
                        #{p.adress}
                    </b:column>
                    <b:column>
                        <f:facet name="header">Contact details</f:facet>
                        #{p.contactDetails}
                    </b:column>

                    <b:column>
                        <f:facet name="header">Sex</f:facet>
                        #{p.sex.sex}
                    </b:column>
                    <b:column>
                        <f:facet name="header">Role</f:facet>
                        #{p.role}
                    </b:column>
                    <h:column>
                        <f:facet name="header">Edit</f:facet>
                        <h:commandButton value="Edit" action="#{adminBean.editUser(p.userId)}"/>
                    </h:column>
                <h:column>
                    <f:facet name="header">Delete</f:facet>
                    <h:commandButton value="Delete" action="#{adminBean.remove(p.userId)}"/>
                </h:column>

                </b:dataTable>
            </b:jumbotron>

        </b:container>



    </h:form>

</h:body>
</html>